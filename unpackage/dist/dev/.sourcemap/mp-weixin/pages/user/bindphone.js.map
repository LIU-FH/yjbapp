{"version":3,"sources":["webpack:///E:/yjb/yjbapp/main.js","webpack:///E:/yjb/yjbapp/pages/user/bindphone.vue?1756","webpack:///E:/yjb/yjbapp/pages/user/bindphone.vue?0ac6","webpack:///E:/yjb/yjbapp/pages/user/bindphone.vue?ca61","webpack:///E:/yjb/yjbapp/pages/user/bindphone.vue?6b41","webpack:///E:/yjb/yjbapp/pages/user/bindphone.vue"],"names":["createPage","Page","bindPhoneT","data","formData","phone","code","time","onLoad","option","timestamp","parseInt","uni","getStorageSync","Date","getTime","initBindPhoneT","methods","getCode","errMsg","showToast","icon","title","duration","$minApi","phoneCode","then","res","catch","err","console","log","that","setInterval","clearInterval","setStorageSync","toSubmit","phoneBind","setTimeout","navigateBack","delta","inputPhone","e","detail","value","inputCode","onBackPress"],"mappings":"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","file":"pages/user/bindphone.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/user/bindphone.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./bindphone.vue?vue&type=template&id=6f2246cd&\"\nvar renderjs\nimport script from \"./bindphone.vue?vue&type=script&lang=js&\"\nexport * from \"./bindphone.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/yjb/yjbapp/pages/user/bindphone.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bindphone.vue?vue&type=template&id=6f2246cd&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bindphone.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bindphone.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nlet bindPhoneT;\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tformData:{\n\t\t\t\tphone:'',\n\t\t\t\tcode:'',\n\t\t\t},\n\t\t\ttime:0\n\t\t}\n\t},\n\tonLoad: function(option) {\n\t\tlet timestamp  = parseInt(uni.getStorageSync('bind-phone-disabled-time')) - parseInt(new Date().getTime()/1000)\n\t\tif( timestamp > 0 ){\n\t\t\tthis.time = timestamp\n\t\t\tthis.initBindPhoneT()\n\t\t}\n\t},\n\tmethods: {\n\t\tgetCode() {\n\t\t\tlet errMsg = '';\n\t\t\tif(!this.formData.phone){\n\t\t\t\terrMsg = '请输入手机号'\n\t\t\t}\n\t\t\tif(errMsg){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: errMsg,\n\t\t\t\t\tduration: 2000\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\tthis.$minApi\n\t\t\t\t.phoneCode(this.formData)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.time = 60\n\t\t\t\t\tthis.initBindPhoneT()\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t});\n\t\t},\n\t\tinitBindPhoneT(){\n\t\t\tlet that = this\n\t\t\tbindPhoneT = setInterval(function(){\n\t\t\t\tthat.time = that.time - 1\n\t\t\t\tif(that.time <= 0){\n\t\t\t\t\tclearInterval(bindPhoneT)\n\t\t\t\t}\n\t\t\t\tuni.setStorageSync('bind-phone-disabled-time', parseInt(new Date().getTime()/1000) + that.time);\n\t\t\t},1000)\n\t\t},\n\t\ttoSubmit(){\n\t\t\tlet errMsg = '';\n\t\t\tif(!this.formData.phone){\n\t\t\t\terrMsg = '请输入手机号'\n\t\t\t}else if(!this.formData.code){\n\t\t\t\terrMsg = '请输入验证码'\n\t\t\t}\n\t\t\tif(errMsg){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: errMsg,\n\t\t\t\t\tduration: 2000\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.$minApi\n\t\t\t\t.phoneBind(this.formData)\n\t\t\t\t.then(res => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"绑定成功\",\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t    delta: 1\n\t\t\t\t\t\t});\n\t\t\t\t\t},2000)\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t});\n\t\t},\n\t\tinputPhone(e) {\n\t\t\tthis.formData.phone = e.detail.value\n\t\t},\n\t\tinputCode(e) {\n\t\t\tthis.formData.code = e.detail.value\n\t\t},\n\t},\n\tonBackPress() {\n\t\tclearInterval(bindPhoneT)\n\t}\n}\n"],"sourceRoot":""}